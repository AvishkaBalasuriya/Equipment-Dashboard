(this.webpackJsonpequipment_dashboard=this.webpackJsonpequipment_dashboard||[]).push([[0],{393:function(e,t){},395:function(e,t){},407:function(e,t){},409:function(e,t){},437:function(e,t){},439:function(e,t){},440:function(e,t){},445:function(e,t){},447:function(e,t){},466:function(e,t){},478:function(e,t){},481:function(e,t){},676:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),o=a(51),i=a(76),u=a(32),l=a(748),d=a(742),p=a(719),j=a(25),m=a(745),b=a(747),O=a(22),f=a.n(O),h=a(40),x=a(16),g=a(726),y=a(725),v=a(728),w=a(727),D=a(724),A=a(107),I=a.n(A),C=a(368),S=a(3),_=function(e){var t=Object(p.a)((function(e){return{paper:{marginBottom:e.spacing(4)}}}))();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("img",{alt:"Iviva Icon",src:"https://static.iviva.com/favicon.ico",className:t.paper}),Object(S.jsx)(C.a,{component:"h1",variant:"h4",className:t.paper,children:e.title})]})},N=a(743),T=function(e){return Object(S.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:e.id,label:e.label,name:e.name,autoComplete:e.autoComplete,type:e.type,onChange:function(t){return function(t){e.onChange(t.target.value)}(t)},autoFocus:!0})},E=function(e){return{type:"SET_LOGGED_USER",payload:e}},k=function(e){return{type:"SET_OTP_USER_ID",payload:e}},R=function(e){return{type:"SHOW_ALERT",payload:e}},U=a(118),L=a.n(U),G=a(87),H=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({email:t.email,password:t.password}),n={method:"post",url:"".concat(G.server.host,"/api/v1/auth/login"),headers:{"Content-Type":"application/json"},data:a},e.next=4,L()(n).catch((function(e){return{success:!1,error:e.message,data:null}}));case 4:return r=e.sent,e.abrupt("return",void 0===r.success?r.data:r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({contact:t.email}),n={method:"post",url:"".concat(G.server.host,"/api/v1/otp/issue"),headers:{"Content-Type":"application/json"},data:a},e.next=4,L()(n).catch((function(e){return{success:!1,error:e.message,data:null}}));case 4:return r=e.sent,e.abrupt("return",void 0===r.success?r.data:r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({userId:t.userId,otpCode:t.otpCode}),n={method:"post",url:"".concat(G.server.host,"/api/v1/otp/verify"),headers:{"Content-Type":"application/json"},data:a},e.next=4,L()(n).catch((function(e){return{success:!1,error:e.message,data:null}}));case 4:return r=e.sent,e.abrupt("return",void 0===r.success?r.data:r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({otpId:t.otpId,password:t.password,passwordConfirm:t.passwordConfirm}),n={method:"post",url:"".concat(G.server.host,"/api/v1/auth/forget"),headers:{"Content-Type":"application/json"},data:a},e.next=4,L()(n).catch((function(e){return{success:!1,error:e.message,data:null}}));case 4:return r=e.sent,e.abrupt("return",void 0===r.success?r.data:r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({email:t.email,password:t.password,passwordConfirm:t.passwordConfirm,firstName:t.firstName,lastName:t.lastName,type:t.type}),n={method:"post",url:"".concat(G.server.host,"/api/v1/auth/register"),headers:{Authorization:"Bearer ".concat(t.accessToken),"Content-Type":"application/json"},data:a},e.next=4,L()(n).catch((function(e){return{success:!1,error:e.message,data:null}}));case 4:return r=e.sent,e.abrupt("return",void 0===r.success?r.data:r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(),t=Object(j.b)(),a=Object(u.f)(),r=Object(n.useState)(),c=Object(x.a)(r,2),s=c[0],o=c[1],i=Object(n.useState)(),l=Object(x.a)(i,2),d=l[0],m=l[1],b=function(){var e=Object(h.a)(f.a.mark((function e(n){var r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t({type:"SHOW_LOADING"}),e.next=4,H({email:s,password:d});case 4:if((r=e.sent).success){e.next=10;break}return 503===r.code&&(t({type:"HIDE_LOADING"}),t(R({status:!0,message:""===r.message?r.error:r.message,type:"error"})),t(k({userId:r.data.userId})),a.replace("/verifyOtp")),t({type:"HIDE_LOADING"}),t(R({status:!0,message:""===r.message?r.error:r.message,type:"error"})),e.abrupt("return");case 10:c=r.data.accessToken,o=I.a.decode(c),t({type:"HIDE_LOADING"}),t(E({authToken:c,userData:o})),a.replace("/dashboard");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(y.a,{}),Object(S.jsxs)("div",{className:e.paper,children:[Object(S.jsx)(_,{title:"Sign In"}),Object(S.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(S.jsx)(T,{id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:o}),Object(S.jsx)(T,{name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:m}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return b(e)},children:"Sign In"}),Object(S.jsx)(w.a,{container:!0,children:Object(S.jsx)(w.a,{item:!0,xs:!0,children:Object(S.jsx)(v.a,{href:"/sendOtpVerification",variant:"body2",children:"Forgot password?"})})})]})]})]})},q=a(729),B=a(730),F=a(731),X=function(e){var t=Object(p.a)({root:{backgroundColor:"#26282b",margin:e.margin,minWidth:e.width,minHeight:e.height,justifyContent:"center",alignItems:"center"},titlePaper:{backgroundColor:"#8884d8"},title:{textAlign:"center",color:"black",fontSize:e.fontSize,fontWeight:"bold"},counter:{textAlign:"center",color:"white",fontSize:60,fontWeight:"bolder"},lastUpdate:{textAlign:"center",color:"white",fontSize:12},error:{textAlign:"center",color:"white",fontSize:16}})();return Object(S.jsxs)(q.a,{className:t.root,children:[Object(S.jsx)("div",{className:t.titlePaper,children:Object(S.jsx)(C.a,{className:t.title,children:e.title})}),Object(S.jsx)(B.a,{children:e.data?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(C.a,{className:t.counter,variant:"h6",component:"h1",children:e.data.count})}):Object(S.jsx)("p",{className:t.error,children:"Sorry! Unable to load data for this counter"})}),Object(S.jsx)(F.a,{}),Object(S.jsxs)(C.a,{className:t.lastUpdate,variant:"h2",component:"h1",children:["Last Update On: ",e.data.lastUpdate]})]})},K=a(732),M=a(733),Q=a(737),Y=a(362),Z=a(363),$=a(142),ee=a(139),te=a(366),ae=function(e){var t=Object(p.a)({lastUpdate:{textAlign:"center",color:"black",fontSize:12,fontWeight:"bold"},error:{textAlign:"center",color:"black",fontSize:16},root:{textAlign:"center",color:"black",fontSize:16}})();return e.data?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(K.a,{width:"100%",height:"100%",children:Object(S.jsxs)(M.a,{data:e.data.data,margin:{top:40,right:40,left:0,bottom:0},children:[Object(S.jsx)(Q.a,{strokeDasharray:"3 3"}),Object(S.jsx)(Y.a,{dataKey:"name"}),Object(S.jsx)(Z.a,{}),Object(S.jsx)($.a,{}),Object(S.jsx)(ee.a,{}),Object(S.jsx)(te.a,{dataKey:"count",fill:"#8884d8"})]})}),Object(S.jsxs)("p",{className:t.lastUpdate,children:["Last Update On: ",e.data.lastUpdate]})]}):Object(S.jsx)("h5",{className:t.error,children:"Unable to load chart"})},ne=a(364),re=a(117),ce=function(e){var t=JSON.parse(localStorage.getItem(e));return t||!1},se=function(){var e=ce("authenticationReducer");return e||null};function oe(e,t){null!=e?(e.authToken=t.authToken,e.userData=t.userData):e={authToken:t.authToken,userData:t.userData};return e}function ie(e){return null,null}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGGED_USER":return oe(e,t.payload);case"CLEAR_LOGGED_USER":return ie(e);default:return e}};function le(e,t){null!=e?e.userId=t.userId:e={userId:t.userId};return e}function de(e,t){null!=e?e.otpId=t.otpId:e={otpId:t.otpId};return e}function pe(e){return null,null}var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OTP_USER_ID":return le(e,t.payload);case"SET_OTP_ID":return de(e,t.payload);case"CLEAR_OTP_DATA":return pe(e);default:return e}},me=function(){var e=ce("cardDataReducer");return e||{operational:{count:0,lastUpdate:"Unknown"},nonOperational:{count:0,lastUpdate:"Unknown"}}};function be(e,t){return null!=e?e[t.name]={count:t.count,lastUpdate:t.lastUpdate}:(e={})[t.name]={count:t.count,lastUpdate:t.lastUpdate},e}function Oe(e){return null,null}var fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CARD_DATA":return be(e,t.payload);case"CLEAR_CARD_DATA":return Oe(e);default:return e}},he=function(){var e=ce("chartDataReducer");return e||{equipmentInventory:{data:[],xAxis:"",yAxis:"payload.yAxis",title:"",lastUpdate:"Unknown"}}};function xe(e,t){return null!=e?e[t.name]={data:t.data,xAxis:t.xAxis,yAxis:t.yAxis,title:t.title,lastUpdate:t.lastUpdate}:(e={})[t.name]={data:t.data,xAxis:t.xAxis,yAxis:t.yAxis,title:t.title,lastUpdate:t.lastUpdate},e}function ge(e){return null,null}var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHART_DATA":return xe(e,t.payload);case"CLEAR_CHART_DATA":return ge(e);default:return e}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADING":return!0;case"HIDE_LOADING":return!1;default:return e}},we={message:"",type:"success",status:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return t.payload;case"HIDE_ALERT":return we;default:return e}},Ae=Object(re.b)({authenticationReducer:ue,otpReducer:je,cardDataReducer:fe,chartDataReducer:ye,loadingPanelReducer:ve,snackBarReducer:De}),Ie=Object(re.a)((function(e){return function(e){return function(t){var a=e(t);return function(e){if("SET_LOGGED_USER"===e.type)localStorage.setItem("authenticationReducer",JSON.stringify(e.payload));else if("UPDATE_CARD_DATA"===e.type){var t=ce("cardDataReducer"),a=e.payload;t?t[a.name]={count:a.count,lastUpdate:a.lastUpdate}:(t={})[a.name]={count:a.count,lastUpdate:a.lastUpdate},localStorage.setItem("cardDataReducer",JSON.stringify(t))}else if("SET_CHART_DATA"===e.type){var n=ce("chartDataReducer"),r=e.payload;n?n[r.name]={data:r.data,xAxis:r.xAxis,yAxis:r.yAxis,title:r.title,lastUpdate:r.lastUpdate}:(n={})[r.name]={data:r.data,xAxis:r.xAxis,yAxis:r.yAxis,title:r.title,lastUpdate:r.lastUpdate},localStorage.setItem("chartDataReducer",JSON.stringify(n))}else"CLEAR_LOGGED_USER"===e.type&&(localStorage.removeItem("authenticationReducer"),localStorage.removeItem("cardDataReducer"),localStorage.removeItem("chartDataReducer"))}(t),a}}})),Ce=Object(re.c)(Ie,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Se=Object(re.d)(Ae,void 0,Ce),_e=function(e){return{type:"UPDATE_CARD_DATA",payload:e}},Ne=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Started to listen"),e.next=3,Object(ne.io)(G.server.host,{query:{token:t}});case 3:e.sent.on("updated",(function(e){Se.dispatch(_e({name:"operational",count:e.cardData.operational,lastUpdate:(new Date).toISOString()})),Se.dispatch(_e({name:"nonOperational",count:e.cardData.nonOperational,lastUpdate:(new Date).toISOString()})),Se.dispatch({type:"SET_CHART_DATA",payload:{name:"equipmentInventory",data:e.chartData,yAxis:"count",xAxis:"category",title:"Equipment Inventory",lastUpdate:(new Date).toISOString()}})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Te=function(){var e=Object(p.a)((function(){return{paper:{flexGrow:1},chartPaper:{width:"100%",height:450}}}))(),t=Object(j.c)((function(e){return e.cardDataReducer.operational})),a=Object(j.c)((function(e){return e.cardDataReducer.nonOperational})),r=Object(j.c)((function(e){return e.chartDataReducer.equipmentInventory})),c=Object(j.c)((function(e){return e.authenticationReducer.authToken}));return Object(n.useEffect)((function(){Ne(c)}),[c]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(w.a,{container:!0,spacing:0,className:e.paper,children:[Object(S.jsx)(w.a,{item:!0,xs:12,sm:6,lg:6,children:Object(S.jsx)(X,{title:"Operational",data:t||null,fontSize:40,margin:20,height:250,width:200})}),Object(S.jsx)(w.a,{item:!0,xs:12,sm:6,lg:6,children:Object(S.jsx)(X,{title:"Non-Operational",data:a||null,fontSize:40,margin:20,height:250,width:200})}),Object(S.jsx)(w.a,{item:!0,xs:12,sm:12,lg:12,children:Object(S.jsx)("div",{className:e.chartPaper,children:Object(S.jsx)(ae,{data:r||null})})})]})})},Ee=function(){var e=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(),t=Object(j.b)(),a=Object(u.f)(),r=Object(n.useState)(),c=Object(x.a)(r,2),s=c[0],o=c[1],i=function(){var e=Object(h.a)(f.a.mark((function e(n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t({type:"SHOW_LOADING"}),e.next=4,P({email:s});case 4:if((r=e.sent).success){e.next=9;break}return t({type:"HIDE_LOADING"}),t(R({status:!0,message:""===r.message?r.error:r.message,type:"error"})),e.abrupt("return");case 9:c=r.data.userId,t({type:"HIDE_LOADING"}),t(k({userId:c})),a.replace("/verifyOtp");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(y.a,{}),Object(S.jsxs)("div",{className:e.paper,children:[Object(S.jsx)(_,{title:"Send Verification"}),Object(S.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(S.jsx)(T,{id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:o}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return i(e)},children:"Send Verification"}),Object(S.jsx)(w.a,{container:!0,children:Object(S.jsx)(w.a,{item:!0,xs:!0,children:Object(S.jsx)(v.a,{href:"/",variant:"body2",children:"Login"})})})]})]})]})},ke=a(746),Re=a(738),Ue=function(){var e=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(),t=Object(j.b)(),a=Object(j.c)((function(e){return e.authenticationReducer})),r=Object(n.useState)(),c=Object(x.a)(r,2),s=c[0],o=c[1],i=Object(n.useState)(),u=Object(x.a)(i,2),l=u[0],d=u[1],m=Object(n.useState)(),b=Object(x.a)(m,2),O=b[0],v=b[1],A=Object(n.useState)(),I=Object(x.a)(A,2),C=I[0],N=I[1],E=Object(n.useState)(),k=Object(x.a)(E,2),U=k[0],L=k[1],G=Object(n.useState)(!1),H=Object(x.a)(G,2),P=H[0],W=H[1],z=function(){var e=Object(h.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t({type:"SHOW_LOADING"}),e.next=4,V({firstName:s,lastName:l,email:O,password:C,passwordConfirm:U,type:P,accessToken:a.authToken});case 4:if(r=e.sent,t({type:"HIDE_LOADING"}),r.success){e.next=10;break}return t({type:"HIDE_LOADING"}),t(R({status:!0,message:""===r.message?r.error:r.message,type:"error"})),e.abrupt("return");case 10:t(R({status:!0,message:r.message,type:"success"})),J();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){o(),d(),v(),N(),L(),W(!1)};return Object(S.jsxs)(D.a,{component:"main",maxWidth:"xs",id:"paper",children:[Object(S.jsx)(y.a,{}),Object(S.jsxs)("div",{className:e.paper,children:[Object(S.jsx)(_,{title:"Register New Admin"}),Object(S.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(S.jsxs)(w.a,{container:!0,spacing:2,children:[Object(S.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(T,{autoComplete:"fname",name:"firstName",id:"firstName",label:"First Name",onChange:o})}),Object(S.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(T,{id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:d})}),Object(S.jsx)(w.a,{item:!0,xs:12,children:Object(S.jsx)(T,{id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:v})}),Object(S.jsx)(w.a,{item:!0,xs:12,children:Object(S.jsx)(T,{name:"password",label:"Password",type:"password",id:"password",autoComplete:"password",onChange:N})}),Object(S.jsx)(w.a,{item:!0,xs:12,children:Object(S.jsx)(T,{name:"passwordConfirm",label:"Confirm Password",type:"password",id:"passwordConfirm",autoComplete:"passwordConfirm",onChange:L})}),Object(S.jsx)(w.a,{item:!0,xs:12,children:Object(S.jsx)(Re.a,{control:Object(S.jsx)(ke.a,{checked:P,onChange:function(e){W(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Is Admin"})})]}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return z(e)},children:"Register"})]})]})]})},Le=function(){var e=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(),t=Object(j.b)(),a=Object(j.c)((function(e){return e.otpReducer})),r=Object(u.f)(),c=Object(n.useState)(),s=Object(x.a)(c,2),o=s[0],i=s[1],l=function(){var e=Object(h.a)(f.a.mark((function e(n){var c,s,i,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t({type:"SHOW_LOADING"}),e.next=4,W({userId:a.userId,otpCode:o});case 4:if((c=e.sent).success){e.next=9;break}return t({type:"HIDE_LOADING"}),t(R({status:!0,message:""===c.message?c.error:c.message,type:"error"})),e.abrupt("return");case 9:if(201!==c.code){e.next=16;break}return s=c.data.accessToken,i=I.a.decode(s),t({type:"HIDE_LOADING"}),t(E({authToken:s,userData:i})),r.replace("/dashboard"),e.abrupt("return");case 16:u=c.data.otpId,t({type:"HIDE_LOADING"}),t({type:"SET_OTP_ID",payload:{otpId:u}}),r.replace("/resetPassword");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(y.a,{}),Object(S.jsxs)("div",{className:e.paper,children:[Object(S.jsx)(_,{title:"Verify OTP Code"}),Object(S.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(S.jsx)(T,{id:"otpCode",label:"Otp Code",name:"otpCode",autoComplete:"otpCode",onChange:i}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return l(e)},children:"Verify"}),Object(S.jsx)(w.a,{container:!0,children:Object(S.jsx)(w.a,{item:!0,xs:!0,children:Object(S.jsx)(v.a,{href:"/",variant:"body2",children:"Login"})})})]})]})]})},Ge=function(){var e=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(),t=Object(j.b)(),a=Object(j.c)((function(e){return e.otpReducer})),r=Object(u.f)(),c=Object(n.useState)(),s=Object(x.a)(c,2),o=s[0],i=s[1],l=Object(n.useState)(),d=Object(x.a)(l,2),m=d[0],b=d[1],O=function(){var e=Object(h.a)(f.a.mark((function e(n){var c,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t({type:"SHOW_LOADING"}),e.next=4,z({otpId:a.otpId,password:o,passwordConfirm:m});case 4:if((c=e.sent).success){e.next=9;break}return t({type:"HIDE_LOADING"}),t(R({status:!0,message:""===c.message?c.error:c.message,type:"error"})),e.abrupt("return");case 9:s=c.data.accessToken,i=I.a.decode(s),t({type:"HIDE_LOADING"}),t(E({authToken:s,userData:i})),t({type:"CLEAR_OTP_DATA"}),r.replace("/dashboard");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(y.a,{}),Object(S.jsxs)("div",{className:e.paper,children:[Object(S.jsx)(_,{title:"Reset Password"}),Object(S.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(S.jsx)(T,{id:"password",label:"Password",name:"password",type:"password",autoComplete:"password",onChange:i}),Object(S.jsx)(T,{id:"passwordConfirm",label:"Confirm Password",type:"password",name:"passwordConfirm",autoComplete:"passwordConfirm",onChange:b}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return O(e)},children:"Reset Password"}),Object(S.jsx)(w.a,{container:!0,children:Object(S.jsx)(w.a,{item:!0,xs:!0,children:Object(S.jsx)(v.a,{href:"/",variant:"body2",children:"Login"})})})]})]})]})},He=a(4),Pe=function(e){var t=e.component,a=Object(He.a)(e,["component"]),n=Object(j.c)((function(e){return e.authenticationReducer}));return Object(S.jsx)(u.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return n?Object(S.jsx)(t,Object(o.a)({},e)):Object(S.jsx)(u.a,{to:"/"})}}))},We=function(e){var t=e.component,a=Object(He.a)(e,["component"]),n=Object(j.c)((function(e){return e.authenticationReducer}));return Object(S.jsx)(u.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return n&&n.userData.type?Object(S.jsx)(t,Object(o.a)({},e)):Object(S.jsx)(u.a,{to:"/"})}}))},ze=a(740),Ve=a(741);var Je=function(){var e=Object(j.c)((function(e){return e.authenticationReducer})),t=Object(u.f)(),a=Object(j.b)(),n=function(e){var a=e.e,n=e.route;a.preventDefault(),t.push("/".concat(n))},r=Object(p.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#8884d8"},addNewButton:{margin:20,color:"black",backgroundColor:"white",fontWeight:"bold"},logoutButton:{color:"white",backgroundColor:"red",fontWeight:"bold"}}}))();return e?Object(S.jsx)(ze.a,{position:"static",className:r.root,children:Object(S.jsxs)(Ve.a,{children:[Object(S.jsxs)(w.a,{container:!0,spacing:0,children:[Object(S.jsx)(w.a,{item:!0,xs:12,sm:3,lg:2,children:Object(S.jsx)(C.a,{variant:"h6",onClick:function(e){return n({e:e,route:"dashboard"})},children:"Equipment Dashboard"})}),e.userData.type?Object(S.jsx)(w.a,{item:!0,xs:12,sm:3,lg:2,children:Object(S.jsx)(g.a,{className:r.addNewButton,onClick:function(e){return n({e:e,route:"register"})},children:"Add new user"})}):null]}),Object(S.jsx)(g.a,{className:r.logoutButton,onClick:function(){return a({type:"CLEAR_OTP_DATA"}),void a({type:"CLEAR_LOGGED_USER"})},children:"Logout"})]})}):null};var qe=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.loadingPanelReducer})),a=Object(j.c)((function(e){return e.snackBarReducer})),n=Object(p.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(),r=function(e){return Object(S.jsx)(m.a,Object(o.a)({elevation:6,variant:"filled"},e))};return Object(S.jsxs)("div",{children:[Object(S.jsx)(l.a,{className:n.backdrop,open:t,children:Object(S.jsx)(d.a,{color:"inherit"})}),Object(S.jsx)(b.a,{open:a.status,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,onClose:function(t,a){"clickaway"!==a&&e({type:"HIDE_ALERT"})},children:Object(S.jsx)(r,{severity:a.type,children:a.message})}),Object(S.jsxs)(i.a,{children:[Object(S.jsx)(Je,{}),Object(S.jsx)(u.b,{exact:!0,path:"/",component:J}),Object(S.jsx)(u.b,{exact:!0,path:"/sendOtpVerification",component:Ee}),Object(S.jsx)(u.b,{exact:!0,path:"/verifyOtp",component:Le}),Object(S.jsx)(u.b,{exact:!0,path:"/resetPassword",component:Ge}),Object(S.jsx)(Pe,{exact:!0,path:"/dashboard",component:Te}),Object(S.jsx)(We,{exact:!0,path:"/register",component:Ue})]})]})};s.a.render(Object(S.jsx)(j.a,{store:Se,children:Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(qe,{})})}),document.getElementById("root"))},87:function(e){e.exports=JSON.parse('{"server":{"host":""}}')}},[[676,1,2]]]);
//# sourceMappingURL=main.ec2b409b.chunk.js.map